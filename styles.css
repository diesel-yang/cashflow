*{box-sizing:border-box}html,body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans TC','Noto Sans',Arial;background:#f5f6f8;color:#222}
.app-bar{position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#208b8c;color:#fff}
.title{font-weight:700;letter-spacing:1px}
.month-switcher{display:flex;align-items:center;gap:8px}
.month-switcher button{border:none;background:rgba(255,255,255,.2);color:#fff;padding:6px 10px;border-radius:8px}
.month-label{border:none;background:rgba(255,255,255,.2);color:#fff;padding:6px 10px;border-radius:8px}
main{padding:12px}
.card{background:#fff;border-radius:14px;box-shadow:0 2px 8px rgba(0,0,0,.06);padding:14px}
.mode-row{display:flex;gap:8px;margin-bottom:10px;align-items:center;flex-wrap:wrap}
.select{padding:10px;border-radius:10px;border:1px solid #e3e3e3;background:#fff}
.switch{display:flex;align-items:center;gap:6px;font-size:14px}
.amount-input{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.amount-input input{flex:1;min-width:160px;font-size:20px;padding:10px 12px;border-radius:10px;border:1px solid #e3e3e3}
.toggle{display:flex;border:1px solid #e3e3e3;border-radius:10px;overflow:hidden}
.toggle button{padding:10px 14px;border:none;background:#f3f3f3}
.toggle .active{background:#208b8c;color:#fff}
.category-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:12px 0}
.chip{padding:10px;border:1px solid #e3e3e3;border-radius:999px;background:#fff}
.chip-active{background:#208b8c;color:#fff;border-color:#208b8c}
.note-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.quick-row{margin:10px 0;display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.hint{font-size:12px;color:#666}
.primary{width:100%;padding:12px;border:none;background:#208b8c;color:#fff;border-radius:12px;font-size:18px;margin-top:6px}
.filters{display:flex;gap:8px;align-items:center;margin-bottom:10px;flex-wrap:wrap}
.summary{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-bottom:12px}
.summary-item{background:#f7faf9;border:1px solid #e4efee;border-radius:10px;padding:10px;text-align:center}
.summary-item .label{font-size:12px;color:#666}
.summary-item .value{font-size:18px;font-weight:700}
.value.neg,.list-item .neg{color:#c62828}
.dues{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:12px}
.due-card{background:#fff7f0;border:1px solid #ffe1c7;border-radius:10px;padding:10px;text-align:center}
.pill{display:inline-block;padding:2px 6px;border-radius:999px;font-size:12px;margin-right:4px;background:#eee}
.pill-restaurant{background:#e1f5f4;color:#0a5b5a}
.pill-personal{background:#f1f1f1;color:#555}
.pill-transfer{background:#e6e8ff;color:#2930a3}
.badge{font-size:12px;color:#aa5e00;margin-left:6px}
.mini{margin-left:6px;padding:6px 10px;border:1px solid #ddd;background:#fff;border-radius:6px;font-size:12px}
.list{margin-top:12px;border-top:1px solid #eee}
.list-item{display:grid;grid-template-columns:90px 1fr 90px 1.2fr;gap:8px;padding:8px 0;border-bottom:1px solid #f1f1f1;font-size:14px}
.list-item.header{font-weight:600;color:#666}
.note-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.pl-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:8px 0}
.pl-row{display:flex;justify-content:space-between;padding:8px;border:1px solid #eef2f2;border-radius:10px;background:#fafdff}
.pl-row.total{background:#eef7ff;font-weight:700}
.kpis{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin:8px 0}
.kpi{background:#fff;border:1px solid #eee;border-radius:10px;padding:10px;text-align:center}
.kpi-label{font-size:12px;color:#666}
.kpi-value{font-size:18px;font-weight:800}
.settings-grid{display:grid;grid-template-columns:1fr;gap:12px}
.kv{list-style:none;padding-left:0}
.kv li{margin:4px 0}
.tabbar{position:sticky;bottom:0;background:#fff;display:flex;border-top:1px solid #eee}
.tabbar button{flex:1;border:none;background:#fff;padding:12px 0}
.tabbar .active{color:#208b8c;font-weight:700}
.toast{position:fixed;left:50%;bottom:76px;transform:translateX(-50%);background:#222;color:#fff;padding:10px 16px;border-radius:999px;opacity:.0;transition:all .3s}
.toast.show{opacity:.95;bottom:88px}
.footer{text-align:center;font-size:12px;color:#999;padding:6px}
@media (min-width:768px){main{max-width:620px;margin:0 auto}.settings-grid{grid-template-columns:repeat(2,1fr)}}

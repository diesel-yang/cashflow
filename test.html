<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Firebase 測試頁</title>
</head>
<body>
  <h2>Firebase 測試頁</h2>
  <p>請打開瀏覽器 Console 或等候彈窗提示。</p>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    // ⚠️ 把這裡換成你的 firebaseConfig
    const firebaseConfig = {
      apiKey: "你的 apiKey",
      authDomain: "cashflow-71391.firebaseapp.com",
      databaseURL: "https://cashflow-71391-default-rtdb.firebaseio.com",
      projectId: "cashflow-71391",
      storageBucket: "cashflow-71391.appspot.com",
      messagingSenderId: "204843374577",
      appId: "1:204843374577:web:xxxxxx",
      measurementId: "G-G2DVG798M8"
    };

    // 初始化 Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // 測試寫入資料
    set(ref(db, 'test/hello'), {
      message: "Firebase 設定完成！",
      timestamp: Date.now()
    });

    // 測試讀取資料
    get(child(ref(db), 'test/hello')).then((snapshot) => {
      if (snapshot.exists()) {
        console.log("✅ Firebase 讀取成功：", snapshot.val());
        alert("✅ Firebase 連線成功！ " + JSON.stringify(snapshot.val()));
      } else {
        console.log("⚠️ 沒有資料");
      }
    }).catch((error) => {
      console.error("❌ Firebase 讀取失敗：", error);
      alert("❌ Firebase 讀取失敗：" + error);
    });
  </script>
</body>
</html>

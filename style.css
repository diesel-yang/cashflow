/* ───────── Theme：高對比深色 */
:root{
  --bg:#0a0f11;          /* 背景更深，突顯卡片 */
  --card:#10191c;        /* 卡片 */
  --text:#f3fbfd;        /* 主要文字偏亮 */
  --muted:#a8c0c7;       /* 次要文字 */
  --primary:#12b4c4;     /* 主色：青綠 */
  --primary-weak:#0f8f9b;
  --border:#203033;      /* 邊框 */
  --chip-bg:#0f1719;     /* Chip 背景 */
  --chip-active:#0f2f35; /* Chip 選中背景 */
  --badge:#0d2226;       /* 口袋餘額牌 */
  --pos:#76e3a8;
  --neg:#ff9aa0;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Inter,'Noto Sans TC','Segoe UI',Roboto,Arial;background:var(--bg);color:var(--text)}

/* ───────── Topbar & Tabs */
.topbar{display:flex;align-items:center;gap:12px;padding:10px 12px;position:sticky;top:0;background:var(--bg);z-index:3}
.brand{display:flex;align-items:center;gap:8px}
.brand .logo{font-size:24px}
.brand-name{font-weight:700}
.brand-sub{font-size:12px;color:var(--muted)}
.space{flex:1}

.input{width:100%;background:var(--chip-bg);color:var(--text);border:1px solid var(--border);border-radius:12px;padding:12px 14px}
.btn{background:var(--primary);color:#001114;border:none;border-radius:12px;padding:12px 14px;font-weight:700;cursor:pointer}
.btn.on{background:var(--primary-weak)}

.tabs{display:flex;gap:8px;padding:8px 12px;position:sticky;top:54px;background:var(--bg);z-index:2}
.tab{border:1px solid var(--border);background:var(--chip-bg);color:var(--text);padding:9px 13px;border-radius:999px;cursor:pointer}
.tab.active{background:var(--chip-active);border-color:var(--primary)}

main{padding:8px 12px;display:grid;gap:12px}
.page{display:none}
.page.show{display:block}

/* ───────── Cards / Headings */
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:12px 12px 14px;display:grid;gap:12px}
.section-head{font-size:14px;font-weight:800;color:var(--text);letter-spacing:.04em}
.subhead{font-size:13px;font-weight:700;color:var(--muted)}
.mt8{margin-top:8px}.mt12{margin-top:12px}
.row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.pack{justify-content:space-between}

/* ───────── Chips（統一尺寸＋觸控區） */
.chip{border:1px solid var(--border);background:var(--chip-bg);color:var(--text);border-radius:12px;padding:10px 12px;cursor:pointer;display:inline-flex;align-items:center;gap:8px;min-height:48px}
.chip.pill{border-radius:999px}
.chip.lg{font-size:16px}
.chip.box{width:100%;justify-content:flex-start}
.chip.active{background:var(--chip-active);border-color:var(--primary);box-shadow:0 0 0 1px var(--primary) inset}

.emoji{width:22px;height:22px;display:inline-grid;place-items:center;font-size:20px;line-height:1}  /* 統一 icon 尺寸 */
.label{flex:1}

/* ───────── Grids */
.grid{display:grid;gap:10px}
.grid-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:480px){
  .grid-3{grid-template-columns:repeat(3,1fr)}
}

.chip-grid{display:grid;gap:10px}
.group-grid{grid-template-columns:repeat(2,1fr)}
@media (min-width:520px){ .group-grid{grid-template-columns:repeat(3,1fr)} }
.items{grid-template-columns:repeat(3,1fr)}

/* ───────── Inputs */
.amt{min-width:140px;background:var(--chip-bg);color:var(--text);border:1px solid var(--border);border-radius:12px;padding:12px 14px}
.elevated{border-radius:12px;border:1px solid var(--border);background:var(--chip-bg);color:var(--text);padding:12px 14px}
input::placeholder{color:var(--muted)}
.date-wrap{display:flex;align-items:center;gap:6px}
.i-cal{filter:brightness(1.2)}

/* ───────── Pocket badge（餘額） */
.badge{background:var(--badge);color:#d9f5f8;border:1px solid var(--border);padding:2px 8px;border-radius:999px;font-weight:800}

/* ───────── Recent list */
.list{display:grid;gap:8px}
.row.recent{display:grid;grid-template-columns: 95px 1fr auto;gap:8px;align-items:center;padding:10px;background:var(--chip-bg);border:1px solid var(--border);border-radius:12px}
.r-date{color:var(--muted)}
.r-amt{font-weight:800}
.r-amt.pos{color:var(--pos)}
.r-amt.neg{color:var(--neg)}

/* ───────── Footer */
.foot{padding:14px 12px;color:var(--muted);text-align:center}

/* ───────── Mobile */
@media (max-width:480px){
  .topbar{flex-wrap:wrap}
  .tabs{top:auto;position:static}
  .items{grid-template-columns:repeat(2,1fr)}
  .row.recent{grid-template-columns: 84px 1fr auto}
}
/* —— Pockets grid —— */
.grid.pockets{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}

/* 可點小豬卡片（button） */
.pocket{
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  padding:10px 8px 12px;
  border:1px solid var(--border,#2a2f33);
  background:var(--card,#0f1316);
  border-radius:16px;
  box-shadow:0 1px 0 rgba(255,255,255,0.05) inset, 0 6px 16px rgba(0,0,0,0.25);
  cursor:pointer;
  user-select:none;
  min-height:112px;
}
.pocket:focus{ outline:2px solid var(--focus,#30c4d3); outline-offset:2px; }

/* 小豬 SVG 等比縮放、顏色用 currentColor 可被主題/active 控制 */
.pocket .pig{
  width:56px; height:56px;
  color:#93a2ad;
}
.pocket .name{
  font-size:13px;
  color:#cbd5dc;
  letter-spacing:.5px;
}
.pocket .amt{
  position:absolute;
  top:8px; left:50%;
  transform:translateX(-50%);
  font-variant-numeric:tabular-nums;
  font-weight:700;
  padding:2px 8px;
  border-radius:10px;
  background:#192126;
  color:#dfe8ee;
  box-shadow:0 0 0 1px rgba(255,255,255,.06) inset;
}

/* 選取狀態 */
.pocket.active{
  border-color:rgba(48,196,211,.6);
  box-shadow:0 0 0 2px rgba(48,196,211,.35) inset, 0 10px 24px rgba(48,196,211,.1);
}
.pocket.active .pig{ color:#30c4d3; }
.pocket.active .name{ color:#e9fbff; }

/* 小尺寸裝置更好點 */
@media (max-width:380px){
  .pocket{ min-height:106px; }
  .pocket .pig{ width:52px; height:52px; }
}
/* 口袋小豬：一致大小 + 深色主題對比 */
#pockets-row {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.pocket {
  display: flex;
  align-items: center;
  gap: 10px;
  border: 1px solid var(--border, #2b3b44);
  background: var(--card, #0f1a1f);
  border-radius: 14px;
  padding: 10px 12px;
  cursor: pointer;
  transition: transform .05s ease, box-shadow .15s ease, border-color .15s ease;
}

.pocket:hover { transform: translateY(-1px); }
.pocket.active {
  border-color: var(--accent, #14b8a6);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent, #14b8a6) 25%, transparent);
}

.pocket .pig {
  width: 44px; height: 44px; flex: 0 0 44px;
  object-fit: contain;
  image-rendering: -webkit-optimize-contrast;
}

.pocket .meta { display:flex; flex-direction:column; line-height:1.15; }
.pocket .name { font-size: 14px; color: var(--text-subtle, #9fb3bf); }
.pocket .amt  { font-size: 18px; font-weight: 700; color: var(--text, #e7f2f7); }

/* 小螢幕也好點 */
@media (max-width: 380px){
  .pocket .pig { width: 40px; height: 40px; }
  .pocket .amt { font-size: 17px; }
}

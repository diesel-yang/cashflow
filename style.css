/* ==========================================================================
   極速記帳 - 深色高對比主題（mobile-first）
   ========================================================================== */

/* 主題變數 */
:root{
  --bg:#0a0f11; --card:#10191c; --text:#f6fbff; --muted:#a9bec6;
  --primary:#12b4c4; --primary-weak:#0f8f9b; --border:#223337;
  --chip-bg:#0f1719; --chip-active:#10323a; --accent:#13c1d3;
  --pos:#75e5aa; --neg:#ff9aa0;
  --radius:14px; --gap:12px; --tap:52px; --fs:17px;
}
*{box-sizing:border-box}
html,body{
  margin:0; background:var(--bg); color:var(--text);
  font:600 var(--fs)/1.35 -apple-system,BlinkMacSystemFont,Inter,"Noto Sans TC",Segoe UI,Roboto,Arial;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
img{max-width:100%;display:block}

/* Topbar */
.topbar{display:flex;align-items:center;gap:12px;padding:10px 12px;position:sticky;top:0;background:var(--bg);z-index:3}
.brand{display:flex;align-items:center;gap:8px}
.brand .logo{font-size:24px}
.brand-name{font-weight:800}
.brand-sub{font-size:12px;color:var(--muted)}
.space{flex:1}

/* Tabs */
.tabs{display:flex;gap:10px;padding:8px 12px;position:sticky;top:56px;background:var(--bg);z-index:2}
.tab{border:1px solid var(--border);background:var(--chip-bg);color:var(--text);border-radius:999px;padding:10px 16px;font-weight:700;cursor:pointer}
.tab.active{
  border-color:var(--primary);background:var(--chip-active);
  box-shadow:0 1px 0 rgba(255,255,255,.08) inset,0 10px 22px rgba(0,0,0,.36),0 0 0 2px color-mix(in srgb,var(--primary) 28%, transparent);
}

/* Elevated 通用（日期選擇器同款立體） */
.elevated{
  border:1px solid var(--border);background:var(--chip-bg);color:var(--text);
  box-shadow:0 1px 0 rgba(255,255,255,.06) inset,0 8px 18px rgba(0,0,0,.35);
  transition:transform .06s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
  border-radius:12px;
}
.pressable:hover{transform:translateY(-1px)}
.pressable:active{transform:translateY(0);box-shadow:0 1px 0 rgba(255,255,255,.05) inset,0 4px 10px rgba(0,0,0,.35)}

.btn-elevated{composes:elevated;padding:12px 18px;border-radius:14px;font-weight:800;letter-spacing:.02em}
.btn-elevated.primary{
  background:linear-gradient(180deg, color-mix(in srgb, var(--primary) 18%, #000) 0%, var(--primary) 100%);
  color:#001114;border-color:color-mix(in srgb, var(--primary) 60%, var(--border));
  box-shadow:0 1px 0 rgba(255,255,255,.08) inset,0 10px 24px rgba(0,0,0,.45),0 0 0 2px color-mix(in srgb, var(--primary) 18%, transparent)
}
.btn-elevated.ghost{background:var(--chip-bg);color:var(--text)}

/* 主容器與卡片 */
main{padding:12px;display:grid;gap:16px}
.page{display:none}.page.show{display:block}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:12px 12px 14px;display:grid;gap:12px;box-shadow:0 0 0 1px rgba(255,255,255,.03) inset}
.section-head{font-size:15px;font-weight:800}
.subhead{font-size:14px;font-weight:700;color:var(--muted)}
.row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.row.between{justify-content:space-between}
.card>*+*{margin-top:12px}
.card{margin-bottom:16px}

/* 輸入類 */
.input,.amt{height:var(--tap);padding:12px 14px;border:1px solid var(--border);border-radius:12px;background:var(--chip-bg);color:var(--text)}
.amt{min-width:150px;font-variant-numeric:tabular-nums}
.date-wrap{display:flex;align-items:center;gap:8px}

/* Chips */
.chip{min-height:var(--tap);border:1px solid var(--border);background:var(--chip-bg);color:var(--text);border-radius:999px;padding:10px 14px;display:inline-flex;align-items:center;gap:10px;cursor:pointer}
.chip.box{border-radius:var(--radius);width:100%;justify-content:flex-start}
.chip.lg{font-size:18px}
.chip.active{background:var(--chip-active);border-color:var(--accent);box-shadow:0 0 0 1px var(--accent) inset}
.emoji{width:24px;height:24px;display:grid;place-items:center;font-size:20px}
.label{flex:1}

/* grid */
.grid{display:grid;gap:10px}
.grid-3{grid-template-columns:repeat(3,1fr)}
.grid-2{grid-template-columns:repeat(2,1fr)}
@media (max-width:560px){ .grid-3{grid-template-columns:repeat(2,1fr)} }

/* 用途在右：兩顆鈕等寬撐滿行寬 */
.scope-head{display:flex;align-items:center;justify-content:space-between}
#chip-scope.chip-group.wide{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;flex:1;margin-left:12px}
#chip-scope .chip{composes:elevated pressable;width:100%;justify-content:center;border-radius:12px}

/* 付款人與口袋 */
#payers-row .chip{justify-content:center}
#payers-row .chip.active{border-color:var(--accent);background:var(--chip-active)}

#pockets-row{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.pocket{display:flex;align-items:center;gap:10px;border:1px solid var(--border);background:var(--card);border-radius:var(--radius);padding:10px 12px;cursor:pointer}
.pocket.active{border-color:var(--accent);box-shadow:0 0 0 2px color-mix(in srgb,var(--accent) 25%, transparent)}
.pocket .pig{width:44px;height:44px;color:#8fb0bb}
.pocket .meta{display:flex;flex-direction:column;line-height:1.1}
.pocket .name{font-size:15px;color:var(--muted)}
.pocket .amt{font-size:18px;font-weight:800}

/* 最近 20 筆 */
.list{display:grid;gap:8px}
.list .row{display:grid;grid-template-columns:88px 1fr auto;gap:8px;align-items:center;padding:10px;border:1px solid var(--border);border-radius:var(--radius);background:var(--chip-bg);color:#fff}
.r-amt{font-weight:800}.r-amt.pos{color:var(--pos)}.r-amt.neg{color:var(--neg)}

/* Footer */
.foot{padding:14px 12px;color:var(--muted);text-align:center}
